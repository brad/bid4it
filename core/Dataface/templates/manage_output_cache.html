{use_macro file="Dataface_Main_Template.html"}

	{fill_slot name="main_column"}
		<h2>Manage output cache</h2>
		<p>The Dataface output cache stores copies of the pages of this application as they
		are presented to the user.  Each time a page is requested, Dataface first checks the 
		output cache to see if the page has already been generated.  If it has, then that page
		is returned to the user.  If the requested page is not found in the cache, then
		Dataface will generate the page as normal, save it to the cache, and present it to the
		user.</p>
		<h3>Cache Status</h3>
		<ul>
			{if !$enabled}
				<li><p>The output cache is currently disabled.  To enable the output cache,
				       please add the following to the end of your conf.ini file:</p>
				    <p><code><pre>[_output_cache]<br/>enabled=1</code></pre></p>
				</li>
			{else}
				<li>The output cache is currently enabled, and contains {$numrows} pages in the cache.</li>
			{/if}
		</ul>
		{if $enabled}
		<h3>Options</h3>
		<ul>
			<li><h4>Empty the Cache</h4>
				<p>If you make changes to the database, the cache will automatically be 
				   refreshed.  However if you make changes to the source files on the file system
				   (e.g. the fields.ini files or delegate classes), you will need to empty the
				   cache manually using this option:</p>
				<p><form action="{$smarty.server.PHP_SELF}" method="post">
					<input type="hidden" name="-action" value="manage_output_cache"/>
					<input type="hidden" name="--clear-cache" value="1"/>
					<input type="submit" name="Clear" value="Clear Cache Now"/>
					</form>
				</p>
			</li>
		</ul>
		{/if}
	{/fill_slot}
{/use_macro}